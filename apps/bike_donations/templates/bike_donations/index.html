<html ng-app = "bikeSelect">
<head>


{% load staticfiles %}


<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
<script type = "text/javascript" src = "https:ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-cookies.js"></script>
<link rel="stylesheet" type="text/css" href="{% static 'bike_donations/styles/selectStyles.css' %}">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.min.js"></script>



<!--<script type = "text/javascript" src = "{% static 'bike_donations/angular/app.js' %}"></script>-->
<script>
angular.module('bikeSelect', ['ngCookies','ngRoute'])
	.config(function($interpolateProvider, $httpProvider/*, $routeProvider*/) {

		// $routeProvider.when('/confirm', {
	  //    controller: 'confirmationController',
	  //    templateUrl: 'static/bike_donations/angular/partials/confirm.html'
	  //  });

		$interpolateProvider.startSymbol('[[').endSymbol(']]');
		$httpProvider.defaults.xsrfCookieName = 'csrftoken';
        $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
	});
</script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/services/boolService.js' %}"></script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/services/scrollService.js' %}"></script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/factories/bikeOptionsFactory.js' %}"></script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/controllers/omniOptionsController.js' %}"></script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/controllers/bikeOptionsController.js' %}"></script>
<script type = "text/javascript" src = "{% static 'bike_donations/angular/controllers/confirmationController.js' %}"></script>


</head>


<body>
	<div id = "header">
		<h2>Add To Inventory Demo</h2>
	</div>
	<div ng-controller = "omniOptionsController" id="buttonBoxDiv">
		<div id="buttonBox">
			<button id = 'bike' ng-click = "buttonClicked('bike')">Bike</button>
			<button id = 'component' ng-click = "buttonClicked('component')">Component</button>
			<button id = 'other' ng-click = "buttonClicked('other')">Other</button>
			<button id = 'addTrain' ng-click = "create_category()">Add trains</button>
		</div>
	</div>
	<div ng-controller = "bikeOptionsController">
		<div id = "optionsBox">
			<form>
				{% csrf_token %}
				<div ng-if = "bikeOption && !productOption.status">
					<div id = 'bike' class = 'selectBox'>
						<h2>Select a bike</h2>
						<select ng-model="selected.type" size = "5">
							<option ng-repeat = "(key, value) in bikeType" >[[key]]</option>
						</select>
						<div class = "check" ng-if = 'selected.type'>
							<img src = "{% static 'bike_donations/resources/lilcheck.png' %}">
						</div>
					</div>

					<div id = 'wheels' class = "selectBox" ng-if = "selected.type">
						<h2>Select a Wheel</h2>
						<select ng-model="selected.wheels" size = "3">
							<option ng-repeat = "(key, value) in wheels" >[[key]]</option>
						</select>
						<div class = "check" ng-if = 'selected.wheels'>
							<img src = "{% static 'bike_donations/resources/lilcheck.png' %}">
						</div>
					</div>

					<div  id = 'brand' class = "selectBox" ng-if = "selected.wheels">
						<h2>Select a Brand</h2>
						<select ng-model="selected.brand" size = "3">
							<option ng-repeat = "(key, value) in brand">[[key]]</option>
						</select>
						<div class = "check" ng-if = 'selected.cosmetic'>
							<img src = "{% static 'bike_donations/resources/lilcheck.png' %}">
						</div>
					</div>

					<div id = 'cosmetic' class = "selectBox" ng-if = "selected.brand">
						<h2>Select Cosmetic Quality</h2>
						<select ng-model="selected.cosmetic" size = "5">
							<option ng-repeat = "(key, value) in cosmetic">[[key]]</option>
						</select>
						<div class = "check" ng-if = 'selected.frame'>
							<img src = "{% static 'bike_donations/resources/lilcheck.png' %}">
						</div>
					</div>

					<div id = 'frame' class = "selectBox" ng-if = "selected.cosmetic">
						<h2>Select a Frame</h2>
						<select ng-model="selected.frame" size = "4">
							<option ng-repeat = "(key, value) in frame">[[key]]</option>
						</select>
						<div class = "check" ng-if = 'selected.features'>
							<img src = "{% static 'bike_donations/resources/lilcheck.png' %}">
						</div>
					</div>

					<div id = 'features' class = "checkBoxBox" ng-if = "selected.frame">
						<h2>Add Features</h2>
						<span ng-repeat="(key, value) in features">
							<label>
				    			<input type="checkbox" id="[[key]]" ng-click = "checkbox(key)"/>[[key]]<br>
				    		</label><br><br>
				  		</span>

						<button ng-click="confirm()">Confirm</button>
						
					</div>
				</div>
			</form>
		</div>
		<div id = "bottom"></div>
		<div ng-show="checkBike" id="confirmationDiv">
			<p>
				Confirmation would go here.
			</p>
				<table>
					<thead>
						<th>
							Model
						</th>
						<th>
							Wheel
						</th>
						<th>
							Brand
						</th>
						<th>
							Cosmetics
						</th>
						<th>
							Frame
						</th>
						<th>
							Features
						</th>
					</thead>
					<tbody>
						<tr>
							<td>
								[[assembled_bike.bikeType]]
							</td>
							<td>
								[[assembled_bike.wheels]]
							</td>
							<td>
								[[assembled_bike.brand]]
							</td>
							<td>
								[[assembled_bike.cosmetic]]
							</td>
							<td>
								[[assembled_bike.frame]]
							</td>
							<td>
								<p ng-repeat="feature in assembled_bike.features">							[[feature]]
								</p>
							</td>
						</tr>
					</tbody>
				</table>
				<form>{% csrf_token %}
					<button ng-click="getBike()">All Done</button>
					<button ng-click="goBack()">Go Back</button>
				</form>
		</div>
		
	

		<script src="{% static 'bike_donations/angular/JsBarcode.all.min.js' %}"></script>
		<div id="label">
			<img id="barcode" jsbarcode-value="GKBD00000001" jsbarcode-height="40" jsbarcode-width="1"></img>
			<h1 id="cost">$239.99</h1>
			<h1 id="info">Bike Type</br>Bike Model</h1>
			<button onclick="window.print()">Print Label</button>
		</div>
		    
			<script type="text/javascript">
				JsBarcode('#barcode').init()
			</script>

	</div>



</body>



</html>
